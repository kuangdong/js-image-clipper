{"version":3,"sources":["webpack://JsImageClipper/JsImageClipper.js"],"names":["root","factory","exports","module","define","amd","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_container","_showImg","_controlImg","_showImgLeft","_showImgTop","_showImgWidth","_showImgHeight","_controlBoxTop","_controlBoxLeft","_controlBoxWidth","_controlBoxHeight","_controlImgLeft","_controlImgTop","_nw","_nh","_imgRatio","_startX","_startY","_option","_isSupportTouch","_isLoaded","showImg","e","target","removeEventListener","boxContainer","querySelector","imgContainer","controlBox","clientWidth","clientHeight","controlImg","containerW","containerH","nw","naturalWidth","nh","naturalHeight","imgW","imgH","imgT","imgL","imgRatio","style","width","height","top","left","boxLeft","boxTop","imgLeft","imgTop","visibility","undefined","onImageLoaded","document","addEventListener","mousedownHandler","preventDefault","mousemoveHandler","mouseupHandler","touches","screenX","screenY","currentX","currentY","showImgLeft","showImgTop","scaleImg","getCanvas","canvas","createElement","setAttribute","getContext","drawImage","init","selector","path","option","Error","defaults","clipperBoxWidth","clipperBoxHeight","toString","val","parseFloat","clipperBox","innerHTML","getIsLoaded","zoomIn","zoomOut","getClipperPosition","obj","imgWidth","imgHeight","clipperX","Math","abs","clipperY","getImgDataURL","type","encoderOptions","imgData","toDataURL","getImgBlob","callback","toBlob","blob","destory"],"mappings":"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","file":"jsImageClipper.js","sourceRoot":""}